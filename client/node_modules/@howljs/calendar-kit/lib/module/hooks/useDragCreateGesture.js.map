{"version":3,"names":["moment","useRef","useState","Gesture","Easing","runOnJS","useAnimatedReaction","useSharedValue","withTiming","useTimelineCalendarContext","roundTo","triggerHaptic","useTimelineScroll","useDragCreateGesture","onDragCreateEnd","timeIntervalHeight","spaceFromTop","spaceFromBottom","offsetY","timelineLayoutRef","isScrolling","currentIndex","minDate","maxDate","pages","hourWidth","columnWidth","timelineWidth","totalHours","dragCreateInterval","dragStep","viewMode","isDragCreateActive","useHaptic","tzOffset","start","navigateDelay","heightByTimeInterval","goToNextPage","goToPrevPage","goToOffsetY","isDraggingCreate","setIsDraggingCreate","currentHour","dragXPosition","dragYPosition","startOffsetY","calcPosition","xPosition","yPosition","nearestMinutes","positionIndex","Math","floor","calcX","startY","value","subtractHour","originalTime","roundedHour","calcY","x","max","y","timeoutRef","_handleScroll","current","clearInterval","setInterval","scrollTargetDiff","abs","scrollInProgress","targetOffset","yInPage","pageSize","height","currentY","timelineHeight","spacingInBottomAndTop","maxOffsetY","nextOffset","min","_onEnd","event","time","round","startDate","data","eventStart","tz","add","isBeforeMinDate","isBefore","isAfterMaxDate","isAfter","eventEnd","clone","toISOString","end","gestureEvent","undefined","duration","easing","linear","isTouchesUp","dragCreateGesture","Pan","minPointers","manualActivation","onTouchesDown","stateManager","numberOfTouches","fail","onTouchesMove","_e","activate","onUpdate","numberOfPointers","onTouchesUp","touchesUp","active","onLongPress","e","posX","nativeEvent","locationX","posY","locationY"],"sourceRoot":"../../src","sources":["useDragCreateGesture.tsx"],"mappings":"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"}